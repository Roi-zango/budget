<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui">


    <p:messages id="growl" closable="true" />
    <p:growl id="msg" />

    <br/>
    <br/>
    <h:form>
        <center>

            <p:panel header="Budget execution per action" style="width: 70%">  

                <center>
                    <h:panelGrid columns="2">

                        <h:outputLabel value="Program" />
                        <p:selectOneMenu filter="true" value="#{impressionAnalyseController.programme.idprogramme}" >
                            <f:selectItem itemLabel="#{langues.choisir}" itemValue="" />
                            <f:selectItems value="#{impressionAnalyseController.programmes}" var="prg" itemLabel="#{prg.nom}" itemValue="#{prg.idprogramme}" />
                            <p:ajax update="action" listener="#{impressionAnalyseController.filterActionByProgram()}" />
                        </p:selectOneMenu>

                        <h:outputLabel value="Activity" />
                        <p:selectOneMenu id="action" filter="true" value="#{impressionAnalyseController.action.idaction}" >
                            <f:selectItem itemLabel="#{langues.choisir}" itemValue="" />
                            <f:selectItems value="#{impressionAnalyseController.actions}" var="act" itemLabel="#{act.nom}" itemValue="#{act.idaction}" />
                        </p:selectOneMenu>

                        <p:commandButton value="Print" ajax="false" icon="ui-icon-print" actionListener="#{impressionAnalyseController.printBudgetByAction()}" />
                    </h:panelGrid>
                </center>

            </p:panel>
        </center>

    </h:form>

    <br/>
    <br/>

    <p:separator style="width: 70%" />

    <br/>
    <br/>

    <center>
        <h:panelGrid columns="2" style="width: 70%">

            <h:form>
                <center>
                    <p:panel header="Budget analysis by paragraph">
                        <p:commandButton value="Imprimer" ajax="false" icon="ui-icon-print" actionListener="#{impressionAnalyseController.printAnalyseBudgetGlobal()}" />
                    </p:panel>
                </center>
            </h:form>

            <h:form>
                <p:panel header="Budget Analysis by Sub-program">

                    <h:panelGrid columns="2">

                        <h:outputLabel value="Program" />
                        <p:selectOneMenu filter="true" value="#{impressionAnalyseController.programme.idprogramme}" >
                            <f:selectItem itemLabel="#{langues.choisir}" itemValue="" />
                            <f:selectItems value="#{impressionAnalyseController.programmes}" var="prg" itemLabel="#{prg.nom}" itemValue="#{prg.idprogramme}" />
                            <p:ajax />
                        </p:selectOneMenu>
                        <p:commandButton value="Print" ajax="false" icon="ui-icon-print" actionListener="#{impressionAnalyseController.printAnalyseBudgetByProgram()}" />

                    </h:panelGrid>

                </p:panel>

            </h:form>

        </h:panelGrid>

    </center>

    <br/>
    <br/>

    <p:separator style="width: 70%" />

    <br/>
    <br/>

    <center>

        <h:panelGrid columns="2" style="width: 70%" >
            <h:form>

                <center>
                    <p:panel header="Budget execution by task">
                        <p:commandButton value="Print" ajax="false" icon="ui-icon-print" actionListener="#{impressionAnalyseController.printExecutionBudgetaire()}" />
                    </p:panel>
                </center>

            </h:form>

            <h:form>
                <center>
                    <p:panel header="Budget execution by sub-program">
                        <p:commandButton value="Print" ajax="false" icon="ui-icon-print" actionListener="#{impressionAnalyseController.printExecutionByProgram()}" />
                    </p:panel>
                </center>
            </h:form>

        </h:panelGrid>

    </center>

    <h:form id="VerificationListForm">
        <ui:include src="/confirmation.xhtml"/>
    </h:form>

</ui:composition>